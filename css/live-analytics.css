/* =========================
   Card alignment overrides
   ========================= */

/* 1) Let grid columns be consistent at all sizes */
@media (max-width: 1024px){
  :root { --col-min: 360px; }   /* was 500px; lets 2 columns fit on tablets */
}
@media (max-width: 768px){
  :root { --col-min: 320px; }   /* common mid phones */
}
@media (max-width: 640px){
  :root { --col-min: 280px; }   /* small phones: clean single-column stack */
}

/* 2) Prevent any inner child from forcing a card wider than its grid column */
.card,
.card * {
  min-width: 0;                 /* critical: allow wrapping instead of stretching the column */
}

/* 3) Normalize internal padding so cards visually line up */
.card-header { padding: 16px 16px 8px 16px; }
.chart-wrap   { padding: 12px 16px; }      /* replace the previous 12px 16px 2px 9px */
@media (max-width: 640px){
  .card-header { padding: 10px 12px 6px 12px; }
  .chart-wrap  { padding: 8px 10px; }
}

/* 4) Charts: never overflow; keep aspect and fit the same space */
.chart {
  width: 100%;
  display: block;
  min-height: 300px;
}
.chart svg{
  width: 100% !important;
  height: auto !important;
  display: block;
}
@media (max-width: 640px){
  .chart{ min-height: auto; aspect-ratio: var(--chart-aspect); }
  .chart svg{ height: 100% !important; }
}

/* 5) Filters: avoid pushing width on mid/small screens */
.filters-grid { min-width: 0; }
.filters, .filters-row, .stats, .quick-pills { min-width: 0; }

.filters .field.actions {
  gap: 8px;
  justify-content: flex-end;
}
@media (max-width: 980px){
  .filters .field.actions { justify-content: flex-start; }
}
@media (max-width: 640px){
  .filters .field.actions { width: 100%; }
  .filters .field.actions .btn { flex: 1 1 auto; } /* buttons fill width, don't stretch card */
}

/* 6) Text wrapping safety so labels/snippets never widen the card */
.card .card-title,
.card .stats,
.filters .field,
.filters .input,
.filters .pill,
.empty {
  overflow-wrap: anywhere;      /* break long tokens */
  word-break: normal;
}

/* Optional: equalize row heights visually (cards stretch to same height in a row) */
.dashboard-grid { align-items: stretch; }
